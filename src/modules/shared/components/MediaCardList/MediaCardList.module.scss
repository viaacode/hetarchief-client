@use "styles/abstracts" as *;

$component: "c-media-card-list";

// Sidebar
$media-card-list-sidebar-gutter: $spacer-md;
$media-card-list-sidebar-gutter-md: $spacer-sm;

// Masonry
$media-card-list-masonry-gutter: $media-card-list-sidebar-gutter;
$media-card-list-masonry-gutter-md: $spacer-lg;

@mixin media-card-list-gutters($gutter) {
	.#{$component} {
		&__column {
			& > div,
			article {
				margin-bottom: $gutter;
			}
		}
	}
}

.#{$component} {
	&__content {
		display: flex;
		width: 100%;
	}

	&__column {
		background-clip: padding-box;
	}

	// Modifiers

	// two-column grid
	&--sidebar {
		@include media-card-list-gutters($media-card-list-sidebar-gutter);

		display: grid;
		grid-template-columns: 27.8rem 1fr;
		gap: $media-card-list-sidebar-gutter * 2;
		margin-bottom: $media-card-list-sidebar-gutter;

		@include respond-at("md") {
			@include media-card-list-gutters($media-card-list-sidebar-gutter-md);

			gap: $media-card-list-sidebar-gutter-md * 2;
			margin-bottom: $media-card-list-sidebar-gutter-md;
		}
	}

	// container offset, column-based grid
	// replace when/if switching masonry libraries
	&--masonry {
		@include media-card-list-gutters($media-card-list-masonry-gutter);

		margin: 0 (0 - $media-card-list-masonry-gutter / 2);

		.#{$component} {
			&__column {
				padding: 0 $media-card-list-masonry-gutter / 2;
			}
		}

		@include respond-at("md") {
			@include media-card-list-gutters($media-card-list-masonry-gutter-md);

			margin: 0 (0 - $media-card-list-masonry-gutter-md / 2);

			.#{$component} {
				&__column {
					padding: 0 $media-card-list-masonry-gutter-md / 2;
				}
			}
		}
	}
}
