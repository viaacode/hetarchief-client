@use "sass:map";
@use "sass:math";
@use "styles/abstracts" as *;

.c-blade {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	z-index: get-z-layer("blade");
	visibility: hidden;
	max-width: 46.4rem;
	display: grid;
	grid-template-rows: auto auto 1fr auto;
	margin-left: 4rem;
	pointer-events: none;
	background-color: $white;
	transform: translateX(100%);
	transition: transform $animate-default, visibility $animate-default;

	&__close-button {
		z-index: get-z-layer("blade");
		justify-self: end;
		margin: 2rem;
		grid-row-start: 1;

		&--absolute {
			position: absolute;
			right: 0;
			top: 0;
		}
	}

	&__title {
		padding: 0 ($spacer-lg + $spacer-md) $spacer-lg $spacer-sm;
		font-size: $font-size-sm * 2;

		@include respond-to(md) {
			text-align: center;
		}
		@include respond-at(md) {
			padding: 0 ($spacer-lg + $spacer-md) $spacer-lg $spacer-lg;
			font-size: $font-size-3xl;

			// Force line height to be an integer, avoids .5px misalignments in datepickers in blades
			line-height: $font-size-3xl * (math.div(56, 48));
		}

		&-wrapper {
			grid-row-start: 2;
		}
	}

	&__body-wrapper {
		grid-row-start: 3;
		overflow-y: auto;
	}

	&__footer-wrapper {
		grid-row-start: 4;
	}

	&__overlay {
		z-index: get-z-layer("blade");

		&--managed {
			width: calc(46.4rem + 5.6rem);
			left: auto;
			transform: translateX(5.6rem);
			transition: opacity $timing-default linear, transform $animate-default;
		}
	}

	&--visible {
		pointer-events: all;
		visibility: visible;
		transform: translateX(0);
	}

	&--managed {
		width: 100%;
	}
}
